{% extends "base.html" %}

{% block navbar %}
	{% include 'navbar.html' %}
{% endblock %}

{% block content %}

{% block megamenu %}
	{% include 'megamenu.html' %}
{% endblock %}







<!-- Main layout -->
<main>
  <div class="container">
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      Vérifier la commande avant validation
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Commande </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- Shopping Cart table -->
            <div class="table-responsive">

              <table class="table product-table  text-nowrap">

                <!-- Table head -->
                <thead class="mdb-color lighten-5">
                <tr>
                  <th class="font-weight-bold" scope="col">
                    <strong>Produit</strong>
                  </th>
                  <th class="font-weight-bold" scope="col">
                    <strong>Prix</strong>
                  </th>
                  <th class="font-weight-bold" scope="col">
                    <strong>QTE</strong>
                  </th>
                  <th class="font-weight-bold" scope="col">
                    <strong>Montant</strong>
                  </th>

                </tr>
                </thead>
                <!-- /.Table head -->

                <!-- Table body -->
                <tbody>

                {% for order_produit in order.produits.all %}

                <tr>
                  <td>

                      <strong>{{ order_produit.produit.title }}</strong>
                    <!--p class="text-muted">Apple</p-->
                  </td>
                  <td>{{ order_produit.produit.price }} fcfa</td>
                  <td class="text-center text-md-left">


                    <strong class="font-weight-bold px-2">{{ order_produit.quantity }}</strong>


                  </td>
                  <td class="font-weight-bold">
                    <strong>
                      {% if order_produit.produit.discount_price %}
                      {{ order_produit.get_total_discount_produit_price }} fcfa
                      <span class="badge badge-primary">Saving ${{ order_produit.get_amount_saved }}</span>
                      {% else %}
                      {{ order_produit.get_total_produit_price }} fcfa
                      {% endif %}
                    </strong>
                  </td>

                </tr>

                {% empty %}
                <tr>
                  <td colspan="5" align="center" class="text-danger"><h4>Votre panier est vide</h4></td>
                </tr>
                <tr>
                  <td colspan="5">
                    <a class="btn btn-default float-right text-white" href="/">Continuer vos achats</a>
                  </td>
                </tr>
                {% endfor %}
                {% if order.coupon %}
                <tr>
                  <td colspan="4"><b>Coupon</b></td>
                  <td><b>-{{ order.coupon.amount }} Fcfa</b></td>
                </tr>
                {% endif %}
                {% if order.get_total %}

                <tr>
                  <td>
                    <h4 class="mt-2 float-right">
                      <strong>Total:</strong>
                    </h4>
                  </td>
                  <td class="text-right">
                    <h4 class="mt-2 float-left">
                      <strong>{{ order.get_total }}</strong>
                    </h4>
                  </td>
                  <td></td>


                </tr>

                {% endif %}
                </tbody>
                <!-- /.Table body -->

              </table>

            </div>
            <!-- /.Shopping Cart table -->
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>

          </div>
        </div>
      </div>
    </div>
    <!-- Section: Edit Account -->
    <section class="section py-4">
      <!-- First row -->
      <div class="row">

        <!-- Second column -->
        <div class="col-lg-12 mb-4">

          <!-- Card -->
          <div class="card card-cascade narrower">

            <!-- Card image -->
            <div class="view view-cascade gradient-card-header bg-default lighten-3">
              <h5 class="mb-0 font-weight-bold text-white">Validation de la commande</h5>
            </div>
            <!-- Card image -->
            <a href="#" type="button" class="btn btn-outline-danger btn-sm ">
              Annuler la commande
            </a>
            <!-- Card content -->
            <div class="card-body card-body-cascade text-center">

              <!-- Edit Form -->
              <form method="post" action="." enctype="multipart/form-data">
                {% csrf_token %}

                <!-- First row -->


                <div class="row">

                  <!-- First column -->
                  <div class="col-md-6">
                    <div class="md-form mb-0">
                      <label for="form1" class="col-sm-12 col-form-label">Ville</label>
                      <input value="{{ adresse.street_address }}" name="street_address" type="text" id="form1" class="form-control validate">

                    </div>
                  </div>
                  <!-- Second column -->
                  <div class="col-md-6">
                    <div class="md-form mb-0">
                      <label for="form2" class="col-sm-12 col-form-label">Adresse du domicile</label>
                      <input value="{{ adresse.apartment_address }}" name="apartment_address" type="text" id="form2" class="form-control validate">

                    </div>
                  </div>
                </div>
                <!-- First row -->

                <!-- First row -->
                <div class="row">
                  <!-- First column -->
                  <div class="col-md-6">
                    <div class="md-form mb-0">
                      <label for="form81" class="col-sm-12 col-form-label">Pays</label>
                      <input  value="{{ adresse.country }}" name="country" type="text" id="form81" class="form-control validate">

                    </div>
                  </div>

                  <!-- Second column -->
                  <div class="col-md-6">
                    <div class="md-form mb-0">
                      <label for="form82" class="col-sm-12 col-form-label">Boite postale</label>
                      <input value="{{ adresse.zip }}" name="zip" type="text" id="form82" class="form-control validate">
                    </div>
                  </div>
                </div>
                <!-- First row -->

                <!-- Second row -->
                <div class="row">

                  <!-- First column -->
                  <div class="col-md-6">
                    <div class="md-form mb-0">
                      <label for="form76" class="col-sm-12 col-form-label">Type d'adresse</label>
                      <input  value="{{ adresse.address_type }}" name="address_type" type="text" id="form76" class="form-control validate">
                    </div>
                  </div>
                  <!-- Second column -->

                  <div class="col-md-6">
                    <div class="md-form mb-0">
                      <label for="form77" class="col-sm-12 col-form-label">Ville</label>
                      <input value="{{ adresse.town }}" name="town" type="text" id="form77" class="form-control validate">
                    </div>
                  </div>
                </div>


                  <div class="col-md-12">
                    <div class="md-form mb-0">
                      <label for="form77" class="col-sm-12 col-form-label">Téléphone</label>
                      <input value="{{ adresse.telephone }}" name="telephone" type="text" id="form78" class="form-control validate">
                    </div>
                  </div>

                <!-- Second row -->

                <!-- Fourth row -->
                <div class="row">
                  <div class="col-md-12 text-center my-4">
                    <input type="submit" value="Valider" class="btn btn-danger btn-rounded">
                  </div>
                </div>
                <!-- Fourth row -->

              </form>
              <!-- Edit Form -->

            </div>
            <!-- Card content -->

          </div>
          <!-- Card -->

        </div>
        <!-- Second column -->

      </div>
      <!-- First row -->

    </section>
    <!-- Section: Edit Account -->



  </div>

</main>
<!-- Main layout -->


<style>
label {
    color: #808080 !important;
    font-family: family-name Cursive;
    font-style: italic;
}
</style>


{% endblock content %}


